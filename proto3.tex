\documentclass[thesis-solanki.tex]{files}


\begin{document}

\chapter{Prototype 3}{\label{proto3}}


\section{About this chapter}
This chapter discusses the procedure to infuse multiple search strategies into a \progLang{Prolog} query resolver with monadic unification. 
The base implementation for this prototype is \codeLibrary{Mini \progLang{Prolog}} \cite{website:mini-prolog-hugs98}.

\section{Prototype architecture}
The architecture for this prototype is beautifully illustrated by Figure~\ref{fig:architecture-proto-3}. 

\begin{figure}[H]
  \includegraphics[width=1\textwidth]{proto3_architecture_revised.png}
\vspace*{-1cm}
  \caption{Architecture of Prototype 3}
  \label{fig:architecture-proto-3}
\end{figure}


\section{\codeLibrary{Mini \progLang{Prolog}} \cite{website:mini-prolog-hugs98} architecture}

\begin{figure}[H]
	\centering
  \includegraphics[width=0.7\textwidth]{miniprologhugs_architecture.png}
%\vspace*{1cm}
  \caption{Mini \progLang{Prolog} architecture}
  \label{fig:miniprlgarchitecture}
\end{figure}

\section{Search strategies}
The base implementation used for this prototype is \cite{website:mini-prolog-hugs98} and below are the search
strategies
\subsection{Stack engine}
Listing~\ref{tab:stackengineminiprlg}

\begin{code-list}[H]
\begin{singlespace}
\inputminted[linenos, firstline=29, lastline=62]{haskell}{haskell-proto3-sudsy-woe.hs}
\end{singlespace}
\caption{Stack engine from \cite{website:mini-prolog-hugs98}}
\label{tab:stackengineminiprlg}
\end{code-list}

\subsection{Pure engine}
Listing~\ref{tab:pureengineminiprlg}

\begin{code-list}[H]
\begin{singlespace}
\inputminted[linenos, firstline=26, lastline=46]{haskell}{haskell-proto3-absurd-silicon.hs}
\end{singlespace}
\caption{Pure engine from \cite{website:mini-prolog-hugs98}}
\label{tab:pureengineminiprlg}
\end{code-list}

\subsection{Andorra engine}
Listing~\ref{tab:andorraengineminiprlg}

\begin{code-list}[H]
\begin{singlespace}
\inputminted[linenos, firstline=29, lastline=64]{haskell}{haskell-proto3-diatomic-unbank.hs}
\end{singlespace}
\caption{Andorra engine from \cite{website:mini-prolog-hugs98}}
\label{tab:andorraengineminiprlg}
\end{code-list}


\section{Language}
\subsection{Current language}
Listing~\ref{tab:miniprlglang}
\begin{code-list}[H]
\begin{singlespace}
  \inputminted[linenos, firstline=24, lastline=37]{haskell}{haskell-proto3-butter-chicken.hs}
\end{singlespace}
\caption{Current abstract syntax grammar in \cite{website:mini-prolog-hugs98}}
\label{tab:miniprlglang}
\end{code-list}

\subsection{Language modification}
Listing~\ref{tab:miniprlglangmod}

\begin{code-list}[H]
\begin{singlespace}
  \inputminted[linenos, firstline=64, lastline=87]{haskell}{haskell-proto3-uplift-apart.hs}
\end{singlespace}
\caption{Language modification}
\label{tab:miniprlglangmod}
\end{code-list}

\section{Unification}

\subsection{Current unification}
Listing~\ref{tab:miniprlgunif}
\begin{code-list}[H]
\begin{singlespace}
  \inputminted[linenos, firstline=65, lastline=82]{haskell}{haskell-proto3-pentyl-skater.hs}
\end{singlespace}
\caption{Current unification procedure in \cite{website:mini-prolog-hugs98}}
\label{tab:miniprlgunif}
\end{code-list}

\subsection{Monadic unification}
Listing~\ref{tab:miniprlgmonadicunif}
\begin{code-list}[H]
\begin{singlespace}
  \inputminted[linenos, firstline=1, lastline=41]{haskell}{haskell-proto3-bevy-icebox.hs}
\end{singlespace}
\caption{Monadic unification}
\label{tab:miniprlgmonadicunif}
\end{code-list}



\section{Chapter recapitulation}
Recapitulating, this chapter provided us with a working implementation of a \progLang{Prolog}-like interpreter with the option to change
the search strategy further proving the modularity and genericity of the language modification and monadic unification procedure.

\end{document}
